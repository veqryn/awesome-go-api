version: v1
plugins:
  # Golang
  - plugin: go
    out: go/gen
    opt: paths=source_relative
  - plugin: go-grpc
    out: go/gen
    opt: paths=source_relative,require_unimplemented_servers=false
  - plugin: grpc-gateway
    out: go/gen
    opt: paths=source_relative
  # Python
  - plugin: buf.build/protocolbuffers/python
    out: python/gen
  - plugin: buf.build/protocolbuffers/pyi
    out: python/gen
  - plugin: buf.build/grpc/python
    out: python/gen
  # OpenAPI v2
  # https://github.com/grpc-ecosystem/grpc-gateway/blob/main/docs/docs/mapping/customizing_openapi_output.md
  - plugin: openapiv2
    out: openapiv2/gen
    opt: output_format=yaml
    #opt: disable_default_responses=true
